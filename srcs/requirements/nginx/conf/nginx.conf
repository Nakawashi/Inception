server {
	listen 443 ssl;
	server_name lgenevey.42.ch www.lgenevey.42.ch;
	root /var/www/lgenevey.42.ch;

	# SSL Settings
	##
	ssl on;
	ssl_certificate /etc/ssl/lgenevey.42.ch.pem;
	ssl_certificate_key /etc/ssl/lgenevey.42.ch.key;

	index index.php;

	ssl_protocols TLSv1.3;
	ssl_prefer_server_ciphers off;
	
	# wordpress redirections to index.php
	#
	location / {
        	try_files $uri $uri/ /index.php?$args;
    	}

	#access_log  logs/host.access.log  main;
	#
	location / {
	    	root   html;
	    	index  index.html index.htm;
	}
	
	error_page  404 /404.html;

	# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
	#
	location ~ \.php$ {
		root           html;
	    	fastcgi_pass   127.0.0.1:9000;
	    	fastcgi_index  index.php;
	   	fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
	    	include        fastcgi_params;
	}
	
	##
	#Error management
	#
	error_log /var/log/nginx/error.log;
	error_page 500 502 503 504 /50x.html;
}

